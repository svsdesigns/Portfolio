/* svsdesigns / Surendra V. Singh / 2015-02-10 */
!function(){function a(){var a=document.getElementById("hamburger");a.addEventListener("click",function(a){ga("send","event","button","click","menu-click"),document.body.classList.toggle("menu_open"),a.stopPropagation()})}function b(a,b){for(var c=0,d=4;d>c;c++){var e=b[c].lastElementChild.hash.split("#")[1];e===a?b[c].classList.add("current"):b[c].classList.remove("current")}}function c(){if(!e){var a=window.innerHeight;window.addEventListener("scroll",function(){if("/resume"!==d.hashPath){var b=document.body.scrollTop?document.body.scrollTop:document.documentElement.scrollTop,c=1-b/a,e=document.querySelector(".hero"),f=document.querySelector(".hero h1"),g=7*(100-100*c);c>0&&(e.style.WebkitTransform="translate3d(0, "+g+"px, 0)",e.style.MozTransform="translate3d(0, "+g+"px, 0)",e.style.transform="translate3d(0, "+g+"px, 0)",f.style.opacity=c,e.style.opacity=c)}})}}angular.module("folio",["ngRoute","ngAnimate","modResume","modPhotos","modWeb","modHome"]).run(["$rootScope","$window","$location","$routeParams","Behance","FiveHundred",function(a,b,e,f,g,h){a.$on("$routeChangeSuccess",function(){d.hashPath=e.path()}),c(),window.onload=function(){g.getProjects(),h.getPhotos(function(a){a.success||alert("Unable to complete request: "+a.status+" - "+a.error_message)})}}]).config(["$routeProvider","$locationProvider","$httpProvider",function(a){a.when("/",{templateUrl:"app/views/home.html",controller:"Home"}).when("/web",{templateUrl:"app/views/web.html",controller:"Web"}).when("/photos",{templateUrl:"app/views/photos.html",controller:"Photos"}).when("/resume",{templateUrl:"app/views/resume.html",controller:"Resume"}).otherwise({redirectTo:"/"})}]).directive("offcanvasMenu",function(){return{restrict:"A",scope:{},templateUrl:"app/directives/menu.html",controller:["$scope","$rootScope","$window","$location","$routeParams",function(c,d,e,f){a(),c.menu_items=document.querySelectorAll(".nav_primary li"),d.$on("$routeChangeSuccess",function(){d.currentPath=f.path(),c.currentPath=d.currentPath,b(d.currentPath,c.menu_items),ga("send","pageview",{page:f.path()})})}]}});var d={hashPath:""};_500px.init({sdk_key:"b3cf6701a6a5014444ee58f00fa11afd54ae6356"});var e=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}();document.addEventListener("click",function(){document.body.classList.contains("menu_open")&&document.body.classList.remove("menu_open")}),document.body.classList.add(e?"touch":"no-touch")}(),function(){function a(a){a.naam="Surendra Vikram Singh",a.intro="Front-End Developer/Designer",document.title="SVS Designs: Surendra Vikram Singh's Portfolio | UI Developer | India ",a.social=[{name:"Dribbble",url:"https://dribbble.com/svsdesigns"},{name:"Behance",url:"https://www.behance.net/svsdesigns"},{name:"Flickr",url:"https://www.flickr.com/photos/svsclicks"},{name:"Linkedin",url:"https://in.linkedin.com/in/svsdesigns"},{name:"Facebook",url:"https://www.facebook.com/svsdesigns"}]}angular.module("modHome",[]).controller("Home",["$scope",a])}(),function(){function a(a,b){a.heading="Photography",document.title="Portfolio | Photography",b.getPhotos(function(b){b.success?a.pics=b.data.photos:alert("Unable to complete request: "+b.status+" - "+b.error_message)})}function b(a,b){var c={};return c.getPhotos=function(c){var d=b.sessionStorage.getItem("pxData");return"undefined"!=typeof Storage&&null!==d?c(JSON.parse(d)):void _500px.api("/photos",{feature:"user",username:"svsclicks",image_size:"3",sort:"times_viewed",rpp:"30"},function(d){b.sessionStorage.setItem("pxData",JSON.stringify(d)),a.$apply(function(){return c(d)})})},c}angular.module("modPhotos",[]).controller("Photos",["$scope","FiveHundred",a]).factory("FiveHundred",["$rootScope","$window",b])}(),function(){function a(a,b,c){document.title="Resume | UI Developer | Surendra Vikram Singh";var d=c.sessionStorage.getItem("bioData");"undefined"!=typeof Storage&&null!==d?a.resumeData=angular.fromJson(d):b.getData().then(function(b){a.resumeData=b})}function b(a,b,c){var d={};return d.getData=function(){return q=c.defer(),b({method:"get",url:"/#/app/data/resume.json"}).success(function(b){a.sessionStorage.setItem("bioData",JSON.stringify(b)),q.resolve(b)}),q.promise},d}angular.module("modResume",[]).controller("Resume",["$scope","BioData","$window",a]).factory("BioData",["$window","$http","$q",b])}(),function(){function a(a,b,c){a.heading="Frontend Dev",document.title="Portfolio | Design | Development";var d=c.sessionStorage.getItem("beData");if("undefined"!=typeof Storage&&null!==d){var e=angular.fromJson(d);a.projects=e.projects}else b.getProjects().then(function(b){a.projects=b.projects})}function b(a,b,c){var d={};return d.getProjects=function(){var d="svsdesigns",e="Up1roNu2wpr0SAWvLkMkaE8d2sS2KWE1";return q=c.defer(),b({method:"jsonp",url:"https://www.behance.net/v2/users/"+d+"/projects",params:{client_id:e,callback:"JSON_CALLBACK",per_page:21,time:"all"}}).success(function(b){a.sessionStorage.setItem("beData",JSON.stringify(b)),q.resolve(b)}),q.promise},d}angular.module("modWeb",[]).controller("Web",["$scope","Behance","$window",a]).factory("Behance",["$window","$http","$q",b])}();